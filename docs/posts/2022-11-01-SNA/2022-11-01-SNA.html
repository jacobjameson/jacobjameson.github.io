<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Jacob Jameson">
<meta name="dcterms.date" content="2022-11-01">
<meta name="description" content="Choosing the Right Centrality Measure.">
<title>Jacob Jameson - Basic Network Analysis and Visualization for Directed Graphs in R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script src="../../site_libs/kePrint/kePrint.js"></script><link href="../../site_libs/lightable/lightable.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><link rel="stylesheet" href="../../styles.css">
<meta name="twitter:title" content="Jacob Jameson - Basic Network Analysis and Visualization for Directed Graphs in R">
<meta name="twitter:description" content="Choosing the Right Centrality Measure.">
<meta name="twitter:image" content="https://www.jacobjameson.github.io/images/profile.png">
<meta name="twitter:creator" content="@JacobCJameson">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image-height" content="612">
<meta name="twitter:image-width" content="612">
</head>
<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Jacob Jameson</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../../code.html">Coding</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching.html">Teaching</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../horror.html">Horror Plots</a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../blog.html">Blog</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jacobjameson/jacobjameson.github.io"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/JacobCJameson/"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
</ul>
<div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><nav id="TOC" role="doc-toc"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#social-network-analysis" id="toc-social-network-analysis" class="nav-link active" data-scroll-target="#social-network-analysis">Social Network Analysis?</a></li>
  <li><a href="#simulate-our-data" id="toc-simulate-our-data" class="nav-link" data-scroll-target="#simulate-our-data">Simulate Our Data</a></li>
  <li><a href="#creating-a-graphing-object" id="toc-creating-a-graphing-object" class="nav-link" data-scroll-target="#creating-a-graphing-object">Creating a Graphing Object</a></li>
  <li>
<a href="#measures-of-centrality" id="toc-measures-of-centrality" class="nav-link" data-scroll-target="#measures-of-centrality">Measures of Centrality</a>
  <ul class="collapse">
<li><a href="#degree-centrality" id="toc-degree-centrality" class="nav-link" data-scroll-target="#degree-centrality">Degree Centrality</a></li>
  </ul>
</li>
  <li><a href="#betweenness-centrality" id="toc-betweenness-centrality" class="nav-link" data-scroll-target="#betweenness-centrality">Betweenness Centrality</a></li>
  <li><a href="#eigenvector-centrality" id="toc-eigenvector-centrality" class="nav-link" data-scroll-target="#eigenvector-centrality">Eigenvector Centrality</a></li>
  <li><a href="#katz-centrality" id="toc-katz-centrality" class="nav-link" data-scroll-target="#katz-centrality">Katz Centrality</a></li>
  <li><a href="#hits-hubs-and-authorities" id="toc-hits-hubs-and-authorities" class="nav-link" data-scroll-target="#hits-hubs-and-authorities">HITS Hubs and Authorities</a></li>
  <li><a href="#other-packages-that-i-like-for-visualization" id="toc-other-packages-that-i-like-for-visualization" class="nav-link" data-scroll-target="#other-packages-that-i-like-for-visualization">Other Packages that I Like for Visualization</a></li>
  </ul></nav>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">Basic Network Analysis and Visualization for Directed Graphs in R</h1>
  <div class="quarto-categories">
    <div class="quarto-category">networks</div>
    <div class="quarto-category">centrality</div>
  </div>
  </div>

<div>
  <div class="description">
    <p>Choosing the Right Centrality Measure.</p>
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jacob Jameson </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 1, 2022</p>
    </div>
  </div>
    
  </div>
  

</header><section id="social-network-analysis" class="level2"><h2 class="anchored" data-anchor-id="social-network-analysis">Social Network Analysis?</h2>
<p><strong>“There is certainly no unanimity on exactly what centrality is or on its conceptual foundations, and there is little agreement on the proper procedure for its measurement.” - Linton Freeman (1977)</strong></p>
<p>Social network analysis can be used to measure the importance of a person as a function of the social structure of a community or organization. This post uses visualization as a tool to explain how different measures of centrality may be used to analyze different questions in a network analysis. In these examples we will be specifically looking at directed graphs to compare the following centrality measures and their use-cases:</p>
<ul>
<li>Degree Centrality</li>
<li>Betweenness Centrality</li>
<li>Eigenvector Centrality</li>
<li>Katz Centrality</li>
<li>HITS Hubs and Authorities</li>
</ul>
<p>An example of a directed graph would be one in which people nominate their top 2 friends. In this graph, nodes (people) would connect to others nodes through directed edges (nominations). It is possible for Jacob to nominate Jenna without Jenna nominating him back. You can imagine why centrality in a friendship network might take into account the direction of these nominations. If I list 100 people as my friends and none of them list me back, do we think I am a popular person?</p>
</section><section id="simulate-our-data" class="level2"><h2 class="anchored" data-anchor-id="simulate-our-data">Simulate Our Data</h2>
<p>For our simulated data we are going to be looking at a classroom that contains 14 male and 14 female students. Suppose that each student was asked to name their top 2 male and top 2 female friends in the class. We are interested in analyzing a slew of different research questions where the centrality of student in the class may be of importance.</p>
<p>Let’s create the data:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We begin with a 4 vectors: all males in the classroom, all females in the classroom, a probability distribution for selecting friends of the same sex, a probability distribution for selecting friends of the opposite sex.</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">males</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Jacob'</span>, <span class="st">'Louis'</span>, <span class="st">'Chris'</span>, <span class="st">'Wyatt'</span>, <span class="st">'Nolan'</span>, <span class="st">'Robert'</span>, </span>
<span>           <span class="st">'Zach'</span>, <span class="st">'John'</span>,<span class="st">'Bob'</span>, <span class="st">'David'</span>, <span class="st">'Avery'</span>, <span class="st">'Ronald'</span>, </span>
<span>           <span class="st">'Dallas'</span>, <span class="st">'Dylan'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">females</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Bohan'</span>, <span class="st">'Jenna'</span>, <span class="st">'Katarina'</span>, <span class="st">'Hassina'</span>, <span class="st">'Towo'</span>, </span>
<span>             <span class="st">'Becca'</span>, <span class="st">'Meredith'</span>, <span class="st">'Gracie'</span>, <span class="st">'Kayla'</span>, <span class="st">'Marlene'</span>, </span>
<span>             <span class="st">'Jade'</span>, <span class="st">'Allyssa'</span>, <span class="st">'Reigne'</span>, <span class="st">'Wendy'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">probs.diff.sex</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.15</span>,<span class="fl">0.15</span>,<span class="fl">0.05</span>,<span class="fl">0.05</span>,<span class="fl">0.1</span>,<span class="fl">0.1</span>,<span class="fl">0.05</span>,<span class="fl">0.1</span>,<span class="fl">0.01</span>,<span class="fl">0.09</span>,<span class="fl">0.05</span>,<span class="fl">0.05</span>,<span class="fl">0.025</span>,<span class="fl">0.025</span><span class="op">)</span></span>
<span><span class="va">probs.same.sex</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.15</span>,<span class="fl">0.15</span>,<span class="fl">0.05</span>,<span class="fl">0.05</span>,<span class="fl">0.1</span>,<span class="fl">0.1</span>,<span class="fl">0.05</span>,<span class="fl">0.1</span>,<span class="fl">0.01</span>,<span class="fl">0.09</span>,<span class="fl">0.05</span>,<span class="fl">0.05</span>,<span class="fl">0.05</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The function below, <code>simulate.top.friends</code>, will produce a dataframe that will contain each student’s picks for their top 2 male and top 2 female friends in the classroom.</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1997</span><span class="op">)</span></span>
<span></span>
<span><span class="va">simulate.top.friends</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">males</span>, <span class="va">females</span>, <span class="va">probs.diff.sex</span>, <span class="va">probs.same.sex</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  <span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span>ncol <span class="op">=</span> <span class="fl">6</span>, nrow <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span>, </span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Ego"</span>, <span class="st">"Ego Sex"</span>, <span class="st">"MF1"</span>, <span class="st">"MF2"</span>, <span class="st">"FF1"</span>, <span class="st">"FF2"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">ego</span> <span class="kw">in</span> <span class="va">males</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">temp.males</span> <span class="op">&lt;-</span> <span class="va">males</span><span class="op">[</span><span class="op">!</span> <span class="va">males</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">ego</span><span class="op">]</span></span>
<span>    </span>
<span>    <span class="va">male.friends.i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample.int</a></span><span class="op">(</span><span class="fl">13</span>, <span class="fl">2</span>, replace <span class="op">=</span> <span class="cn">FALSE</span>, prob <span class="op">=</span> <span class="va">probs.same.sex</span><span class="op">)</span></span>
<span>    <span class="va">female.friends.i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample.int</a></span><span class="op">(</span><span class="fl">14</span>, <span class="fl">2</span>, replace <span class="op">=</span> <span class="cn">FALSE</span>, prob <span class="op">=</span> <span class="va">probs.diff.sex</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="va">male.friend.1</span> <span class="op">&lt;-</span> <span class="va">temp.males</span><span class="op">[</span><span class="va">male.friends.i</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span>    <span class="va">male.friend.2</span> <span class="op">&lt;-</span> <span class="va">temp.males</span><span class="op">[</span><span class="va">male.friends.i</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span>    </span>
<span>    <span class="va">female.friend.1</span> <span class="op">&lt;-</span> <span class="va">females</span><span class="op">[</span><span class="va">female.friends.i</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span>    <span class="va">female.friend.2</span> <span class="op">&lt;-</span> <span class="va">females</span><span class="op">[</span><span class="va">female.friends.i</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span>    </span>
<span>    <span class="va">dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span>,<span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">ego</span>, <span class="st">'Male'</span>, <span class="va">male.friend.1</span>, <span class="va">male.friend.2</span>, </span>
<span>                           <span class="va">female.friend.1</span>, <span class="va">female.friend.2</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>    <span class="kw">for</span> <span class="op">(</span><span class="va">ego</span> <span class="kw">in</span> <span class="va">females</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">temp.females</span> <span class="op">&lt;-</span> <span class="va">females</span><span class="op">[</span><span class="op">!</span> <span class="va">females</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">ego</span><span class="op">]</span></span>
<span>    </span>
<span>    <span class="va">male.friends.i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample.int</a></span><span class="op">(</span><span class="fl">14</span>, <span class="fl">2</span>, replace <span class="op">=</span> <span class="cn">FALSE</span>, prob <span class="op">=</span> <span class="va">probs.diff.sex</span><span class="op">)</span></span>
<span>    <span class="va">female.friends.i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample.int</a></span><span class="op">(</span><span class="fl">13</span>, <span class="fl">2</span>, replace <span class="op">=</span> <span class="cn">FALSE</span>, prob <span class="op">=</span> <span class="va">probs.same.sex</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="va">male.friend.1</span> <span class="op">&lt;-</span> <span class="va">males</span><span class="op">[</span><span class="va">male.friends.i</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span>    <span class="va">male.friend.2</span> <span class="op">&lt;-</span> <span class="va">males</span><span class="op">[</span><span class="va">male.friends.i</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span>    </span>
<span>    <span class="va">female.friend.1</span> <span class="op">&lt;-</span> <span class="va">temp.females</span><span class="op">[</span><span class="va">female.friends.i</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span>    <span class="va">female.friend.2</span> <span class="op">&lt;-</span> <span class="va">temp.females</span><span class="op">[</span><span class="va">female.friends.i</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span>
<span>    </span>
<span>    <span class="va">dat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span>,<span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">ego</span>, <span class="st">'Female'</span>, <span class="va">male.friend.1</span>, <span class="va">male.friend.2</span>, </span>
<span>                           <span class="va">female.friend.1</span>, <span class="va">female.friend.2</span><span class="op">)</span></span>
<span>    </span>
<span>  <span class="op">}</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s take a look at our friendship data that we will be working with!</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">simulate.top.friends</span><span class="op">(</span><span class="va">males</span>,<span class="va">females</span>, <span class="va">probs.diff.sex</span>, <span class="va">probs.same.sex</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">

<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;"> Ego </th>
   <th style="text-align:left;"> Ego Sex </th>
   <th style="text-align:left;"> MF1 </th>
   <th style="text-align:left;"> MF2 </th>
   <th style="text-align:left;"> FF1 </th>
   <th style="text-align:left;"> FF2 </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> Jacob </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Chris </td>
   <td style="text-align:left;"> Avery </td>
   <td style="text-align:left;"> Katarina </td>
   <td style="text-align:left;"> Meredith </td>
  </tr>
<tr>
<td style="text-align:left;"> Louis </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Jacob </td>
   <td style="text-align:left;"> Avery </td>
   <td style="text-align:left;"> Towo </td>
   <td style="text-align:left;"> Hassina </td>
  </tr>
<tr>
<td style="text-align:left;"> Chris </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Jacob </td>
   <td style="text-align:left;"> Robert </td>
   <td style="text-align:left;"> Gracie </td>
   <td style="text-align:left;"> Becca </td>
  </tr>
<tr>
<td style="text-align:left;"> Wyatt </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Nolan </td>
   <td style="text-align:left;"> Jacob </td>
   <td style="text-align:left;"> Marlene </td>
   <td style="text-align:left;"> Jenna </td>
  </tr>
<tr>
<td style="text-align:left;"> Nolan </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Jacob </td>
   <td style="text-align:left;"> Bob </td>
   <td style="text-align:left;"> Bohan </td>
   <td style="text-align:left;"> Towo </td>
  </tr>
<tr>
<td style="text-align:left;"> Robert </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Nolan </td>
   <td style="text-align:left;"> Louis </td>
   <td style="text-align:left;"> Jenna </td>
   <td style="text-align:left;"> Bohan </td>
  </tr>
<tr>
<td style="text-align:left;"> Zach </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Jacob </td>
   <td style="text-align:left;"> Avery </td>
   <td style="text-align:left;"> Meredith </td>
   <td style="text-align:left;"> Towo </td>
  </tr>
<tr>
<td style="text-align:left;"> John </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Bob </td>
   <td style="text-align:left;"> Louis </td>
   <td style="text-align:left;"> Bohan </td>
   <td style="text-align:left;"> Wendy </td>
  </tr>
<tr>
<td style="text-align:left;"> Bob </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Avery </td>
   <td style="text-align:left;"> Jacob </td>
   <td style="text-align:left;"> Jenna </td>
   <td style="text-align:left;"> Wendy </td>
  </tr>
<tr>
<td style="text-align:left;"> David </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Wyatt </td>
   <td style="text-align:left;"> Louis </td>
   <td style="text-align:left;"> Becca </td>
   <td style="text-align:left;"> Jenna </td>
  </tr>
<tr>
<td style="text-align:left;"> Avery </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Louis </td>
   <td style="text-align:left;"> Jacob </td>
   <td style="text-align:left;"> Jenna </td>
   <td style="text-align:left;"> Becca </td>
  </tr>
<tr>
<td style="text-align:left;"> Ronald </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Jacob </td>
   <td style="text-align:left;"> Robert </td>
   <td style="text-align:left;"> Becca </td>
   <td style="text-align:left;"> Wendy </td>
  </tr>
<tr>
<td style="text-align:left;"> Dallas </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Robert </td>
   <td style="text-align:left;"> Jacob </td>
   <td style="text-align:left;"> Bohan </td>
   <td style="text-align:left;"> Jenna </td>
  </tr>
<tr>
<td style="text-align:left;"> Dylan </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Jacob </td>
   <td style="text-align:left;"> David </td>
   <td style="text-align:left;"> Towo </td>
   <td style="text-align:left;"> Marlene </td>
  </tr>
<tr>
<td style="text-align:left;"> Bohan </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> Robert </td>
   <td style="text-align:left;"> Nolan </td>
   <td style="text-align:left;"> Allyssa </td>
   <td style="text-align:left;"> Kayla </td>
  </tr>
<tr>
<td style="text-align:left;"> Jenna </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> David </td>
   <td style="text-align:left;"> Bob </td>
   <td style="text-align:left;"> Katarina </td>
   <td style="text-align:left;"> Meredith </td>
  </tr>
<tr>
<td style="text-align:left;"> Katarina </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> David </td>
   <td style="text-align:left;"> Nolan </td>
   <td style="text-align:left;"> Gracie </td>
   <td style="text-align:left;"> Reigne </td>
  </tr>
<tr>
<td style="text-align:left;"> Hassina </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> Robert </td>
   <td style="text-align:left;"> David </td>
   <td style="text-align:left;"> Becca </td>
   <td style="text-align:left;"> Jade </td>
  </tr>
<tr>
<td style="text-align:left;"> Towo </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> John </td>
   <td style="text-align:left;"> Nolan </td>
   <td style="text-align:left;"> Jade </td>
   <td style="text-align:left;"> Jenna </td>
  </tr>
<tr>
<td style="text-align:left;"> Becca </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> Nolan </td>
   <td style="text-align:left;"> Dallas </td>
   <td style="text-align:left;"> Kayla </td>
   <td style="text-align:left;"> Towo </td>
  </tr>
<tr>
<td style="text-align:left;"> Meredith </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> Louis </td>
   <td style="text-align:left;"> Jacob </td>
   <td style="text-align:left;"> Towo </td>
   <td style="text-align:left;"> Bohan </td>
  </tr>
<tr>
<td style="text-align:left;"> Gracie </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> Jacob </td>
   <td style="text-align:left;"> Ronald </td>
   <td style="text-align:left;"> Bohan </td>
   <td style="text-align:left;"> Hassina </td>
  </tr>
<tr>
<td style="text-align:left;"> Kayla </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> Ronald </td>
   <td style="text-align:left;"> Louis </td>
   <td style="text-align:left;"> Bohan </td>
   <td style="text-align:left;"> Gracie </td>
  </tr>
<tr>
<td style="text-align:left;"> Marlene </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> John </td>
   <td style="text-align:left;"> Robert </td>
   <td style="text-align:left;"> Hassina </td>
   <td style="text-align:left;"> Towo </td>
  </tr>
<tr>
<td style="text-align:left;"> Jade </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> Ronald </td>
   <td style="text-align:left;"> Louis </td>
   <td style="text-align:left;"> Hassina </td>
   <td style="text-align:left;"> Bohan </td>
  </tr>
<tr>
<td style="text-align:left;"> Allyssa </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> Avery </td>
   <td style="text-align:left;"> Zach </td>
   <td style="text-align:left;"> Gracie </td>
   <td style="text-align:left;"> Bohan </td>
  </tr>
<tr>
<td style="text-align:left;"> Reigne </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> John </td>
   <td style="text-align:left;"> Zach </td>
   <td style="text-align:left;"> Bohan </td>
   <td style="text-align:left;"> Hassina </td>
  </tr>
<tr>
<td style="text-align:left;"> Wendy </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> Nolan </td>
   <td style="text-align:left;"> Jacob </td>
   <td style="text-align:left;"> Towo </td>
   <td style="text-align:left;"> Bohan </td>
  </tr>
</tbody>
</table>
</div>
</div>
</section><section id="creating-a-graphing-object" class="level2"><h2 class="anchored" data-anchor-id="creating-a-graphing-object">Creating a Graphing Object</h2>
<p>There are many available centrality measures that have been developed for network analysis. At this time, there are no packages that are so comprehensive that it includes all of the measures. I will, therefore, limit this discussion to a subset of the measures that are included in <code>igraph</code>.</p>
<p><code>igraph</code> has a really great function that allows us to turn a dataframe into an <code>igraph</code> object. However, the function requires our data to be in “long” form so we will need to do some reshaping. Let’s restructure our data such that each row represents one directed friend nomination. We are going to call this “Source-Target Form”.</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://had.co.nz/reshape">reshape</a></span><span class="op">)</span> </span>
<span></span>
<span><span class="va">friendships</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/reshape/man/melt-24.html">melt</a></span><span class="op">(</span><span class="fu">simulate.top.friends</span><span class="op">(</span><span class="va">males</span>,<span class="va">females</span>,<span class="va">probs.diff.sex</span>, <span class="va">probs.same.sex</span><span class="op">)</span>, </span>
<span>                    id<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Ego"</span>, <span class="st">"Ego Sex"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span>source<span class="op">=</span><span class="va">Ego</span>, source_sex <span class="op">=</span><span class="va">`Ego Sex`</span>, target<span class="op">=</span><span class="va">value</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">source</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s look at the first 10 observations so we can understand the format needed to turn this data into an <code>igraph</code> object.</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">friendships</span>, <span class="fl">10</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">

<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;"> source </th>
   <th style="text-align:left;"> source_sex </th>
   <th style="text-align:left;"> target </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> Allyssa </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> David </td>
  </tr>
<tr>
<td style="text-align:left;"> Allyssa </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> Nolan </td>
  </tr>
<tr>
<td style="text-align:left;"> Allyssa </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> Jenna </td>
  </tr>
<tr>
<td style="text-align:left;"> Allyssa </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> Towo </td>
  </tr>
<tr>
<td style="text-align:left;"> Avery </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> John </td>
  </tr>
<tr>
<td style="text-align:left;"> Avery </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Chris </td>
  </tr>
<tr>
<td style="text-align:left;"> Avery </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Allyssa </td>
  </tr>
<tr>
<td style="text-align:left;"> Avery </td>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:left;"> Meredith </td>
  </tr>
<tr>
<td style="text-align:left;"> Becca </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> Chris </td>
  </tr>
<tr>
<td style="text-align:left;"> Becca </td>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:left;"> Wyatt </td>
  </tr>
</tbody>
</table>
</div>
</div>
<p>We will use the <code>graph_from_data_frame</code> function to create the <code>igraph</code> object.</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://igraph.org">igraph</a></span><span class="op">)</span></span>
<span><span class="va">network</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/igraph/man/graph_from_data_frame.html">graph_from_data_frame</a></span><span class="op">(</span><span class="va">friendships</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'source'</span>,<span class="st">'target'</span>,<span class="st">'source_sex'</span><span class="op">)</span><span class="op">]</span>,</span>
<span>                                 directed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">network</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>IGRAPH 006a09e DN-- 28 112 -- 
+ attr: name (v/c), source_sex (e/c)
+ edges from 006a09e (vertex names):
 [1] Allyssa-&gt;David    Allyssa-&gt;Nolan    Allyssa-&gt;Jenna    Allyssa-&gt;Towo    
 [5] Avery  -&gt;John     Avery  -&gt;Chris    Avery  -&gt;Allyssa  Avery  -&gt;Meredith
 [9] Becca  -&gt;Chris    Becca  -&gt;Wyatt    Becca  -&gt;Jade     Becca  -&gt;Jenna   
[13] Bob    -&gt;Dylan    Bob    -&gt;David    Bob    -&gt;Marlene  Bob    -&gt;Wendy   
[17] Bohan  -&gt;Nolan    Bohan  -&gt;John     Bohan  -&gt;Katarina Bohan  -&gt;Reigne  
[21] Chris  -&gt;Jacob    Chris  -&gt;Avery    Chris  -&gt;Bohan    Chris  -&gt;Allyssa 
[25] Dallas -&gt;Louis    Dallas -&gt;Robert   Dallas -&gt;Jenna    Dallas -&gt;Towo    
[29] David  -&gt;Zach     David  -&gt;Dallas   David  -&gt;Bohan    David  -&gt;Jenna   
+ ... omitted several edges</code></pre>
</div>
</div>
<p>Let’s better understand the information contained in an igraph object:</p>
<ul>
<li>
<code>IGRAPH</code> simply annotates <code>network</code> as an igraph object</li>
<li>Whatever random six digit alphanumeric string follows <code>IGRAPH</code> is simply how igraph identifies the graph for itself, it’s not important for our purposes.</li>
<li>D would tell us that it is directed graph</li>
<li>N indicates that <code>network</code> is a named graph, in that the vertices have a name attribute</li>
<li>– refers to attributes not applicable to <code>network</code>, but we will see them in the future:</li>
<li>28 refers to the number of vertices in <code>network</code>
</li>
<li>112 refers to the number of edges in <code>network</code>
</li>
<li>attr: is a list of attributes within the graph.</li>
<li>(v/c), which will appear following name, tells us that it is a vertex attribute of a character data type.</li>
<li>(e/c) or (e/n) referring to edge attributes that are of character or numeric data types</li>
<li><ul>
<li>edges from <em>arbitrary igraph name</em> (vertex names): lists a sample of <code>network</code>’s edges using the names of the vertices which they connect.</li>
</ul></li>
</ul>
<p>Now let’s create a rough plot to look at our network!</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">lay</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/igraph/man/layout_with_kk.html">layout_with_kk</a></span><span class="op">(</span><span class="va">network</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>bg<span class="op">=</span><span class="st">"grey98"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">network</span>, layout <span class="op">=</span> <span class="va">lay</span>, edge.color<span class="op">=</span><span class="st">"grey80"</span>,</span>
<span>     vertex.color<span class="op">=</span><span class="st">"lightblue"</span>, vertex.label.color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="2022-11-01-SNA_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>For the rest of this post, we are going to talk about a few different measures of centrality, what they capture mathematically and intuitively, and we will look at plots where the size of the node corresponds to the relative centrality score.</p>
</section><section id="measures-of-centrality" class="level2"><h2 class="anchored" data-anchor-id="measures-of-centrality">Measures of Centrality</h2>
<section id="degree-centrality" class="level3"><h3 class="anchored" data-anchor-id="degree-centrality">Degree Centrality</h3>
<p>For directed graphs, in-degree, or number of incoming points, is one way we can determine the importance factor for nodes. The Degree of a node is the number of edges that it has. The basic intuition is that, nodes with more connections are more influential and important in a network. In other words, the people with more friend nominations in our simulated social network are the ones with greater importance according to this metric.</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">Degree.Directed</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/igraph/man/degree.html">degree</a></span><span class="op">(</span><span class="va">network</span><span class="op">)</span></span>
<span><span class="va">Indegree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/igraph/man/degree.html">degree</a></span><span class="op">(</span><span class="va">network</span>, mode<span class="op">=</span><span class="st">"in"</span><span class="op">)</span></span>
<span><span class="va">Outdegree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/igraph/man/degree.html">degree</a></span><span class="op">(</span><span class="va">network</span>, mode<span class="op">=</span><span class="st">"out"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">CompareDegree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="va">Degree.Directed</span>, <span class="va">Indegree</span>, <span class="va">Outdegree</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">CompareDegree</span>, <span class="fl">10</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">

<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 10px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">   </th>
   <th style="text-align:right;"> Degree.Directed </th>
   <th style="text-align:right;"> Indegree </th>
   <th style="text-align:right;"> Outdegree </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> Allyssa </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
<tr>
<td style="text-align:left;"> Avery </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
<tr>
<td style="text-align:left;"> Becca </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
<tr>
<td style="text-align:left;"> Bob </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
<tr>
<td style="text-align:left;"> Bohan </td>
   <td style="text-align:right;"> 12 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
<tr>
<td style="text-align:left;"> Chris </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
<tr>
<td style="text-align:left;"> Dallas </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
<tr>
<td style="text-align:left;"> David </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
<tr>
<td style="text-align:left;"> Dylan </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
<tr>
<td style="text-align:left;"> Gracie </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
</tbody>
</table>
</div>
</div>
<p>This is a very reasonable way to measure importance within a network. If we are trying to determine who in our classroom is the most popular, we might define that as the greatest number of friendship nominations.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">lay</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/igraph/man/layout_with_kk.html">layout_with_kk</a></span><span class="op">(</span><span class="va">network</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>bg<span class="op">=</span><span class="st">"grey98"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">network</span>, layout <span class="op">=</span> <span class="va">lay</span>, edge.color<span class="op">=</span><span class="st">"grey80"</span>,</span>
<span>     vertex.size<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/igraph/man/degree.html">degree</a></span><span class="op">(</span><span class="va">network</span>, mode<span class="op">=</span><span class="st">"in"</span><span class="op">)</span><span class="op">*</span><span class="fl">2</span>,  <span class="co"># Rescaled by multiplying by 2</span></span>
<span>     main<span class="op">=</span><span class="st">"In-Degree"</span>, vertex.label.dist<span class="op">=</span><span class="fl">1.5</span>,</span>
<span>     vertex.color<span class="op">=</span><span class="st">"lightblue"</span>, vertex.label.color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="2022-11-01-SNA_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</section></section><section id="betweenness-centrality" class="level2"><h2 class="anchored" data-anchor-id="betweenness-centrality">Betweenness Centrality</h2>
<p>Betweenness Centrality is another centrality that is based on shortest path between nodes. It is determined as number of the shortest path passing by the given node. For starting node <span class="math inline">\(s\)</span>, destination node <span class="math inline">\(t\)</span> and the input node <span class="math inline">\(i\)</span> that holds <span class="math inline">\(s \ne t \ne i\)</span>, let <span class="math inline">\(n_{st}^i\)</span> be 1 if node <span class="math inline">\(i\)</span> lies on the shortest path between <span class="math inline">\(s\)</span> and <span class="math inline">\(t\)</span>; and <span class="math inline">\(0\)</span> if not. So the betweenness centrality is defined as:</p>
<p><span class="math display">\[x_i = \sum_{st} n_{st}^i\]</span> However, there can be more than one shortest path between <span class="math inline">\(s\)</span> and <span class="math inline">\(t\)</span> and that will count for centrality measure more than once. Thus, we need to divide the contribution to <span class="math inline">\(g\_{st}\)</span>, total number of shortest paths between <span class="math inline">\(s\)</span> and <span class="math inline">\(t\)</span>.</p>
<p><span class="math display">\[x_i = \sum_{st} \frac{n_{st}^i}{g_{st}}\]</span></p>
<p>Essentially the size of the node here represents the frequency with which that node lies on the shortest path between other nodes.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>bg<span class="op">=</span><span class="st">"grey98"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">network</span>, layout<span class="op">=</span><span class="va">lay</span>, </span>
<span>     vertex.label.dist<span class="op">=</span><span class="fl">1.5</span>, vertex.label.color <span class="op">=</span> <span class="st">"black"</span>, edge.color<span class="op">=</span><span class="st">"grey80"</span>,</span>
<span>     vertex.size<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/igraph/man/betweenness.html">betweenness</a></span><span class="op">(</span><span class="va">network</span><span class="op">)</span><span class="op">*</span><span class="fl">0.25</span>,  <span class="co"># Rescaled by multiplying by 0.25</span></span>
<span>     main<span class="op">=</span><span class="st">"Betweenness Centrality"</span>, vertex.color<span class="op">=</span><span class="st">"lightblue"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="2022-11-01-SNA_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</section><section id="eigenvector-centrality" class="level2"><h2 class="anchored" data-anchor-id="eigenvector-centrality">Eigenvector Centrality</h2>
<p>Eigenvector centrality is a basic extension of degree centrality, which defines centrality of a node as proportional to its neighbors’ importance. When we sum up all connections of a node, not all neighbors are equally important. This is a very interesting way to measure popularity in our classroom where we say the popularity of your friends matters more than the number of friends. Let’s consider two nodes in a friend network with same degree, the one who is connected to more central nodes should be more central.</p>
<p>First, we define an initial guess for the centrality of nodes in a graph as <span class="math inline">\(x_i=1\)</span>. Now we are going to iterate for the new centrality value <span class="math inline">\(x_i'\)</span> for node <span class="math inline">\(i\)</span> as following:</p>
<p><span class="math display">\[x_i' = \sum_{j} A_{ij}x_j\]</span></p>
<p>Here <span class="math inline">\(A_{ij}\)</span> is an element of the adjacency matrix, where it gives 1 or 0 for whether an edge exists between nodes <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span>. it can also be written in matrix notation as <span class="math inline">\(\mathbf{x'} = \mathbf{Ax}\)</span>.</p>
<p>We iterate over t steps to find the vector <span class="math inline">\(\mathbf{x}(t)\)</span> as:</p>
<p><span class="math display">\[\mathbf{x}(t) = \mathbf{A^t x}(0)\]</span></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>bg<span class="op">=</span><span class="st">"grey98"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">network</span>, layout<span class="op">=</span><span class="va">lay</span>, </span>
<span>     vertex.label.dist<span class="op">=</span><span class="fl">1.5</span>, vertex.label.color <span class="op">=</span> <span class="st">"black"</span>, edge.color<span class="op">=</span><span class="st">"grey80"</span>,</span>
<span>     vertex.size<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/igraph/man/eigen_centrality.html">evcent</a></span><span class="op">(</span><span class="va">network</span><span class="op">)</span><span class="op">$</span><span class="va">vector</span><span class="op">*</span><span class="fl">15</span>,   <span class="co"># Rescaled by multiplying by 15</span></span>
<span>     main<span class="op">=</span><span class="st">"Eigenvector Centrality"</span>, vertex.color<span class="op">=</span><span class="st">"lightblue"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="2022-11-01-SNA_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>The plot shows, the students which have the same number of friend nominations are not necessarily in the same size. The one that is connected to more central, or “popular” nodes are larger in this visualization.</p>
<p>However, as we can see from the definition, this can be a problematic measure for directed graphs. Let’s say that a student who received no friend nominations themselves nominates another student as a friend. Because that person has 0 friend nominations themselves, they would not contribute any importance to the person they nominated. In other words, eigenvector centrality would not take zero in-degree nodes into account in directed graphs.</p>
<p>However there is a solution to this!</p>
</section><section id="katz-centrality" class="level2"><h2 class="anchored" data-anchor-id="katz-centrality">Katz Centrality</h2>
<p>Katz centrality introduces two positive constants <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span> to tackle the problem of eigenvector centrality with zero in-degree nodes:</p>
<p><span class="math display">\[x_i = \alpha \sum_{j} A_{ij} x_j + \beta\]</span>,</p>
<p>again <span class="math inline">\(A_{ij}\)</span> is an element of the adjacency matrix, and it can also be written in matrix notation as <span class="math inline">\(\mathbf{x} = \alpha \mathbf{Ax} + \beta \mathbf{1}\)</span>. This <span class="math inline">\(\beta\)</span> constant gives a free centrality contribution for all nodes even though they don’t get any contribution from other nodes. The existence of a node alone would provide it some importance. <span class="math inline">\(\alpha\)</span> constant determines the balances between the contribution from other nodes and the free constant.</p>
<p>Unfortunately, <code>igraph</code> does not have a function to compute Katz centrality, so we will need to do it the old fashioned way.</p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">katz.centrality</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">g</span>, <span class="va">alpha</span>, <span class="va">beta</span>, <span class="va">t</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">n</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/igraph/man/gorder.html">vcount</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>;</span>
<span>  <span class="va">A</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/igraph/man/as_adjacency_matrix.html">get.adjacency</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>;</span>
<span>  <span class="va">x0</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">n</span><span class="op">)</span>;</span>
<span>  <span class="va">x1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="va">n</span>, <span class="va">n</span><span class="op">)</span>;</span>
<span>  <span class="va">eps</span> <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">10</span><span class="op">^</span><span class="va">t</span>;</span>
<span>  <span class="va">iter</span> <span class="op">=</span> <span class="fl">0</span>;</span>
<span>  <span class="kw">while</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">abs</a></span><span class="op">(</span><span class="va">x0</span> <span class="op">-</span> <span class="va">x1</span><span class="op">)</span><span class="op">)</span> <span class="op">&gt;</span> <span class="va">eps</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">x0</span> <span class="op">=</span> <span class="va">x1</span>;</span>
<span>    <span class="va">x1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">as.vector</a></span><span class="op">(</span><span class="va">alpha</span> <span class="op">*</span> <span class="va">x1</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html">%*%</a></span> <span class="va">A</span><span class="op">)</span> <span class="op">+</span> <span class="va">beta</span>;</span>
<span>    <span class="va">iter</span> <span class="op">=</span> <span class="va">iter</span> <span class="op">+</span> <span class="fl">1</span>;</span>
<span>  <span class="op">}</span> </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>aid <span class="op">=</span> <span class="va">x0</span>, vector <span class="op">=</span> <span class="va">x1</span>, iter <span class="op">=</span> <span class="va">iter</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>bg<span class="op">=</span><span class="st">"grey98"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">network</span>, layout<span class="op">=</span><span class="va">lay</span>, </span>
<span>     vertex.label.dist<span class="op">=</span><span class="fl">1.5</span>, vertex.label.color <span class="op">=</span> <span class="st">"black"</span>, edge.color<span class="op">=</span><span class="st">"grey80"</span>,</span>
<span>     vertex.size<span class="op">=</span><span class="fu">katz.centrality</span><span class="op">(</span><span class="va">network</span>, <span class="fl">0.1</span>, <span class="fl">1</span>, <span class="fl">0.01</span><span class="op">)</span><span class="op">$</span><span class="va">vector</span><span class="op">*</span><span class="fl">5</span>,   <span class="co"># Rescaled by multiplying by 15</span></span>
<span>     main<span class="op">=</span><span class="st">"Katz Centrality"</span>, vertex.color<span class="op">=</span><span class="st">"lightblue"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="2022-11-01-SNA_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>Although this method is introduced as a solution for directed graphs, it can be useful for some applications of undirected graphs as well.</p>
</section><section id="hits-hubs-and-authorities" class="level2"><h2 class="anchored" data-anchor-id="hits-hubs-and-authorities">HITS Hubs and Authorities</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>bg<span class="op">=</span><span class="st">"grey98"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">network</span>, layout<span class="op">=</span><span class="va">lay</span>, </span>
<span>     vertex.label.dist<span class="op">=</span><span class="fl">1.5</span>, vertex.label.color <span class="op">=</span> <span class="st">"black"</span>, edge.color<span class="op">=</span><span class="st">"grey80"</span>,</span>
<span>     vertex.size<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/igraph/man/hub_score.html">hub.score</a></span><span class="op">(</span><span class="va">network</span><span class="op">)</span><span class="op">$</span><span class="va">vector</span><span class="op">*</span><span class="fl">15</span>,   <span class="co"># Rescaled by multiplying by 15</span></span>
<span>     main<span class="op">=</span><span class="st">"HITS Hubs"</span>, vertex.color<span class="op">=</span><span class="st">"lightblue"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="2022-11-01-SNA_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>bg<span class="op">=</span><span class="st">"grey98"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">network</span>, layout<span class="op">=</span><span class="va">lay</span>, </span>
<span>     vertex.label.dist<span class="op">=</span><span class="fl">1.5</span> , vertex.label.color <span class="op">=</span> <span class="st">"black"</span>, edge.color<span class="op">=</span><span class="st">"grey80"</span>,</span>
<span>     vertex.size<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/igraph/man/authority_score.html">authority.score</a></span><span class="op">(</span><span class="va">network</span><span class="op">)</span><span class="op">$</span><span class="va">vector</span><span class="op">*</span><span class="fl">15</span>,   <span class="co"># Rescaled by multiplying by 15</span></span>
<span>     main<span class="op">=</span><span class="st">"HITS Authorities"</span>, vertex.color<span class="op">=</span><span class="st">"lightblue"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="2022-11-01-SNA_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>Up until this point, we have discussed the measures that captures high node centrality, however, there can be nodes in the network which are important for the network, but they are not central. In order to find out such nodes, the HITS algorithm introduces two types of central nodes: Hubs and Authorities. For Hubs, we might consider a node important if it links to many highly nominated nodes (i.e.&nbsp;the person nominates many popular people as their friends). For Authorities, we might consider a node to be of importance if many highly nominated nodes link to it (i.e.&nbsp;nominated by many popular people).</p>
<p>Authority Centrality is defined as the sum of the hub centralities which point to the node (i):</p>
<p><span class="math display">\[x_i = \alpha \sum_{j} A_{ij} y_j,\]</span></p>
<p>where <span class="math inline">\(\alpha\)</span> is constant. Likewise, Hub Centrality is the sum of the authorities which are pointed by the node <span class="math inline">\(i\)</span>:</p>
<p><span class="math display">\[y_i = \beta \sum_{j} A_{ji} x_j,\]</span></p>
<p>with constant <span class="math inline">\(\beta\)</span>. Here notice that the element of the adjacency matrix are swapped for Hub Centrality because we are concerned with outgoing edges for hubs. So in matrix notation:</p>
<p><span class="math display">\[\mathbf{x} = \alpha \mathbf{Ay}, \quad\]</span></p>
<p><span class="math display">\[\mathbf{y} = \beta \mathbf{A^Tx}.\]</span> As it can be seen from the drawing, HITS Algorithm also tackles the problem with zero in-degree nodes of Eigenvector Centrality. These zero in-degree nodes become central hubs and contribute to other nodes. Yet we can still use a free centrality contribution constant like in Katz Centrality or other variants.</p>
<p>Although these measures are generally used in a citation network or the internet, this can be pretty interesting in the context of our classroom frienship network. Maybe we are interested in knowing who are the non-popular students that nominate many popular students as friends, but receive no reciprocity in terms of nominations.</p>
</section><section id="other-packages-that-i-like-for-visualization" class="level2"><h2 class="anchored" data-anchor-id="other-packages-that-i-like-for-visualization">Other Packages that I Like for Visualization</h2>
<p>I want to conclude this post with some sample code to produce a nice network plot using the <code>ggnetwork</code> package. <code>igraph</code> is only one package that exists for network visualization and centrality calculations, I encourage you to check out additional packages which may be stronger than <code>igraph</code> for some purposes.</p>
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggobi.github.io/ggally/">GGally</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://statnet.org/">network</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/briatte/ggnetwork">ggnetwork</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">net</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>nodes<span class="op">=</span><span class="va">friendships</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'source'</span>, <span class="st">'target'</span>, <span class="st">'source_sex'</span><span class="op">)</span><span class="op">]</span>, </span>
<span>            edges<span class="op">=</span><span class="va">friendships</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'source'</span>, <span class="st">'target'</span>, <span class="st">'source_sex'</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create node attribute data</span></span>
<span><span class="va">net.cet</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">net</span><span class="op">$</span><span class="va">nodes</span><span class="op">$</span><span class="va">source_sex</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">net.cet</span><span class="op">)</span> <span class="op">=</span> <span class="va">net</span><span class="op">$</span><span class="va">nodes</span><span class="op">$</span><span class="va">source</span></span>
<span><span class="va">edges</span> <span class="op">&lt;-</span> <span class="va">net</span><span class="op">$</span><span class="va">edges</span></span>
<span></span>
<span><span class="co"># create network</span></span>
<span><span class="va">net.net</span> <span class="op">&lt;-</span> <span class="va">edges</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"source"</span>, <span class="st">"target"</span><span class="op">)</span> <span class="op">]</span></span>
<span><span class="va">net.net</span> <span class="op">&lt;-</span> <span class="fu">network</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/network/man/network.html">network</a></span><span class="op">(</span><span class="va">net.net</span>, directed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create sourc sex node attribute</span></span>
<span><span class="va">net.net</span> <span class="op"><a href="https://rdrr.io/pkg/network/man/network.extraction.html">%v%</a></span> <span class="st">"source_sex"</span> <span class="op">&lt;-</span> <span class="va">net.cet</span><span class="op">[</span> <span class="fu"><a href="https://rdrr.io/pkg/network/man/attribute.methods.html">network.vertex.names</a></span><span class="op">(</span><span class="va">net.net</span><span class="op">)</span> <span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggobi.github.io/ggally/reference/ggnet2.html">ggnet2</a></span><span class="op">(</span><span class="va">net.net</span>, color <span class="op">=</span> <span class="st">"source_sex"</span>,</span>
<span>       palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Female"</span> <span class="op">=</span> <span class="st">"purple"</span>, <span class="st">"Male"</span> <span class="op">=</span> <span class="st">"maroon"</span><span class="op">)</span>, size <span class="op">=</span> <span class="st">'indegree'</span>,</span>
<span>       arrow.size <span class="op">=</span> <span class="fl">3</span>, arrow.gap <span class="op">=</span> <span class="fl">0.04</span>, alpha <span class="op">=</span> <span class="fl">1</span>,  label <span class="op">=</span> <span class="cn">TRUE</span>, vjust <span class="op">=</span> <span class="fl">2.5</span>, label.size <span class="op">=</span> <span class="fl">3.5</span>,</span>
<span>       edge.alpha <span class="op">=</span> <span class="fl">0.5</span>, mode <span class="op">=</span> <span class="st">"kamadakawai"</span>,edge.color <span class="op">=</span> <span class="st">'grey50'</span>,</span>
<span>       color.legend <span class="op">=</span> <span class="st">"Student Sex"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/pkg/ggnetwork/man/theme_blank.html">theme_blank</a></span><span class="op">(</span><span class="op">)</span>  <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span>, text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        plot.caption <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html">guides</a></span><span class="op">(</span>size<span class="op">=</span><span class="cn">F</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="st">'Social Network Mapping of Friendship Nominations for Simulated Data'</span>, </span>
<span>       caption <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html">str_wrap</a></span><span class="op">(</span><span class="st">"The size of the dots represent the number of </span></span>
<span><span class="st">                          friendship nominations by others. The maroon dots represent males </span></span>
<span><span class="st">                          while the purple dots represent females. Directed edges are used </span></span>
<span><span class="st">                          to indicate the direction of friendship nominations. </span></span>
<span><span class="st">                          Edges that are bi-directional indicated friendship reciprocity. </span></span>
<span><span class="st">                          \n\n This particular network represents the frienship nominations </span></span>
<span><span class="st">                          of 28 students from our simulated data."</span>, <span class="fl">128</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="2022-11-01-SNA_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p>Thank you!</p>
<p>Jacob</p>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script><script src="https://utteranc.es/client.js" repo="jacobjameson/jacobjameson.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">Copyright 2022, Jacob Jameson</div>   
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jacobjameson/jacobjameson.github.io">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/JacobCJameson">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
</div>
  </div>
</footer>


</body></html>