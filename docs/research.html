<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Jacob Jameson - Research</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta name="twitter:title" content="Jacob Jameson - Research">
<meta name="twitter:image" content="https://www.jacobjameson.com/images/profile.png">
<meta name="twitter:creator" content="@JacobCJameson">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image-height" content="1104">
<meta name="twitter:image-width" content="1004">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/sig.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/jacob-jameson" rel="" target="_blank"><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/JacobCJameson" rel="" target="_blank"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jacobjameson" rel="" target="_blank"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./posts/blog.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-teaching" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Teaching</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-teaching">    
        <li>
    <a class="dropdown-item" href="./teaching.html" rel="" target="">
 <span class="dropdown-text">Jacob’s Teaching Experience</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./R files/Intro R.html" rel="" target="">
 <span class="dropdown-text">Introduction to R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./git files/Intro Git.html" rel="" target="">
 <span class="dropdown-text">Introduction to Git/GitHub</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./api 222 files/API222.html" rel="" target="">
 <span class="dropdown-text">API 222 Section Material</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link active" href="./research.html" rel="" target="" aria-current="page">
 <span class="menu-text">Research</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Research</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="container">
<div class="publication-card">
<img src="images/saulsberry 2025.png" alt="PGx Icon">
<div class="publication-card-content">
<h3 class="anchored">
A National Study Among Diverse US Populations of Exposure to Prescription Medications with Evidence-Based Pharmacogenomic Information
</h3>
<p>
<strong>Authors:</strong> Saulsberry L, <mark>Jameson JC</mark>, Gibbons RD, Dolan ME, Olopade OI, O’Donnell PH
</p>
<p>
<strong>Journal:</strong> Clinical Pharmacology &amp; Therapeutics, 2025
</p>
<p>
<strong>DOI:</strong> <a href="https://doi.org/10.1002/cpt.3617" target="_blank">10.1002/cpt.3617</a>
</p>
<div class="card-buttons">
<p><a href="https://ascpt.onlinelibrary.wiley.com/doi/10.1002/cpt.3617?af=R" class="view-article" target="_blank">View Article</a> <button class="more-info" onclick="showAbstract('abstract-4')">More Info</button></p>
</div>
</div>
</div>
<!-- Abstract Modal 4 -->
<div id="abstract-4" class="modal">
<div class="modal-content">
<span class="close" onclick="closeAbstract('abstract-4')">×</span>
<h3 class="anchored">
Abstract
</h3>
<p>
Tailoring pharmacogenomic (PGx) implementation to diverse populations is vital to promoting health equity. We assessed prescriptions for medications with potentially actionable PGx information to identify patient characteristics associated with differential PGx medication exposure. We analyzed the nationally-representative MEPS dataset of adults who reported receiving prescriptions between 2014 and 2021. PGx medications include those the FDA and CPIC designate as having drug-gene associations supported by scientific evidence. With the primary outcome being PGx prescriptions, we performed Poisson regression adjusted for all other relevant covariates. In our final population (N = 119,722, 72% White/20% Black/4% Asian/8% Hispanic), 61% were prescribed a PGx medication, 56% were female, and 97% held health insurance coverage. Adults with private health insurance (65%) or public Medicaid/Medicare coverage (32%) were more likely to have PGx prescriptions than the uninsured (3%). Individuals with cardiovascular conditions [adjusted IRR (aIRR) = 1.45, 95% CI 1.41, 1.48], high cholesterol [aIRR = 1.37, 95% CI 1.35, 1.40], high blood pressure [aIRR = 1.14, 95% CI 1.12, 1.16], and cancer [aIRR = 1.02, 95% CI 1.00, 1.04] were more likely to receive PGx prescriptions. Self-reported Blacks were less likely than Whites to receive PGx medications [aIRR = 0.92, 95% CI 0.90, 0.94], and among those with health conditions, the likelihood of PGx medication exposure for underrepresented groups (Blacks, Hispanics, and Asians) was lower than for Whites. Our study using a comprehensive list of PGx medications in a nationally representative dataset indicates that certain populations are differentially exposed to genomically informed medications. This may suggest that if implementing a pharmacogenomics program based on reactive testing initiated by a prescription, a small underrepresentation of the Black population could be expected because of an underlying prescription disparity. Secondly, if implementing a pharmacogenomics program based on targeted preemptive testing, using clinical indication/comorbidity may be a reasonable way to enrich the population for prescriptions that would benefit from genotype tailoring.
</p>
</div>
</div>
<div class="publication-card">
<img src="images/jameson 2024.png" alt="Batch Ordering Icon">
<div class="publication-card-content">
<h3 class="anchored">
Variation in Batch Ordering of Imaging Tests in the Emergency Department and the Impact on Care Delivery
</h3>
<p>
<strong>Authors:</strong> <mark>Jameson JC</mark>, Saghafian S, Huckman RS, Hodgson N
</p>
<p>
<strong>Journal:</strong> Health Services Research, 2025, 60(1):e14406.
</p>
<p>
<strong>DOI:</strong> <a href="https://doi.org/10.1111/1475-6773.14406" target="_blank">10.1111/1475-6773.14406</a>
</p>
<div class="card-buttons">
<p><a href="https://doi.org/10.1111/1475-6773.14406" class="view-article" target="_blank">View Article</a> <a href="https://github.com/jacobjameson/batch-vs-sequence/" class="view-data" target="_blank">View Statistical Code</a> <button class="more-info" onclick="showAbstract('abstract-4')">More Info</button></p>
</div>
</div>
</div>
<!-- Abstract Modal 4 -->
<div id="abstract-4" class="modal">
<div class="modal-content">
<span class="close" onclick="closeAbstract('abstract-4')">×</span>
<h3 class="anchored">
Abstract
</h3>
<p>
<strong>Objectives:</strong> To examine heterogeneity in physician batch ordering practices and measure associations between a physician’s batch ordering tendency and patient outcomes and resource utilization.
</p>
<p>
<strong>Study Setting and Design:</strong> Retrospective study using EMR data from 50,836 ED visits to the Mayo Clinic of Arizona (2018–2019). Outcomes include patient length of stay (LOS), the number of imaging tests ordered, and 72-hour return with admission. Associations were measured with multivariable linear regression, controlling for covariates.
</p>
<p>
<strong>Principal Findings:</strong> Physicians with a batch tendency 1SD higher than average had:
</p><ul>
<li>
4.5% longer ED LOS (p &lt; 0.001).
</li>
<li>
14.8% lower probability of 72-hour return with admission (p &lt; 0.001).
</li>
<li>
8 additional imaging tests per 100 patient encounters (p &lt; 0.001).
</li>
</ul>
These results suggest batching can lead to more comprehensive evaluations and reduce short-term revisits but may increase unnecessary imaging.
<p></p>
<p>
<strong>Conclusions:</strong> Physician diagnostic test ordering strategies significantly impact ED efficiency and patient care. Guidelines are needed to optimize ED test ordering practices.
</p>
</div>
</div>
<!-- Publication 1 -->
<div class="publication-card">
<img src="images/tarantino 2024.png">
<div class="publication-card-content">
<h3 class="anchored">
Genomic Heterogeneity and Ploidy Identify Patients with Intrinsic Resistance to PD-1 Blockade in Metastatic Melanoma
</h3>
<p>
<strong>Authors:</strong> Tarantino G, Ricker CA, Wang A, Ge W, et al., <mark>Jacob Jameson</mark>, et al.
</p>
<p>
<strong>Journal:</strong> Science Advances, 2024, 10(48):eadp4670
</p>
<p>
<strong>DOI:</strong> <a href="https://doi.org/10.1126/sciadv.adp4670" target="_blank">10.1126/sciadv.adp4670</a>
</p>
<div class="card-buttons">
<p><a href="https://doi.org/10.1126/sciadv.adp4670" class="view-article" target="_blank">View Article</a> <button class="more-info" onclick="showAbstract('abstract-1')">More Info</button></p>
</div>
</div>
</div>
<!-- Abstract Modal 1 -->
<div id="abstract-1" class="modal">
<div class="modal-content">
<span class="close" onclick="closeAbstract('abstract-1')">×</span>
<h3 class="anchored">
Abstract
</h3>
<p>
The introduction of immune checkpoint blockade (ICB) has markedly improved outcomes for advanced melanoma. However, many patients develop resistance through unknown mechanisms. While combination ICB has improved response rate and progression-free survival, it substantially increases toxicity. Biomarkers to distinguish patients who would benefit from combination therapy versus aPD-1 remain elusive. We analyzed whole-exome sequencing of pretreatment tumors from four cohorts (n = 140) of ICB-naïve patients treated with aPD-1. High genomic heterogeneity and low ploidy robustly identified patients intrinsically resistant to aPD-1. To establish clinically actionable predictions, we optimized and validated a predictive model using ploidy and heterogeneity to confidently identify (90% PPV) patients with intrinsic resistance to and worse survival on aPD-1. We further observed that three of seven (43%) patients predicted to be intrinsically resistant to single-agent PD-1 ICB responded to combination ICB, suggesting that these patients may benefit disproportionately from combination ICB. These findings highlight the importance of heterogeneity and ploidy, nominating an approach toward clinical actionability.
</p>
</div>
</div>
<!-- Publication 2 -->
<div class="publication-card">
<img src="images/glasser 2024.png">
<div class="publication-card-content">
<h3 class="anchored">
Male Gender Expressivity and Diagnosis and Treatment of Cardiovascular Disease Risks in Men
</h3>
<p>
<strong>Authors:</strong> Glasser NJ, <mark>Jameson JC</mark>, Huang ES, et al.
</p>
<p>
<strong>Journal:</strong> JAMA Network Open, 2024, 7(10):e2441281
</p>
<p>
<strong>DOI:</strong> <a href="https://doi.org/10.1001/jamanetworkopen.2024.41281" target="_blank">10.1001/jamanetworkopen.2024.41281</a>
</p>
<div class="card-buttons">
<p><a href="https://doi.org/10.1001/jamanetworkopen.2024.41281" class="view-article" target="_blank">View Article</a> <a href="https://github.com/jacobjameson/MGE-CVD" class="view-data" target="_blank">View Statistical Code</a> <button class="more-info" onclick="showAbstract('abstract-2')">More Info</button></p>
</div>
</div>
</div>
<!-- Abstract Modal 2 -->
<div id="abstract-2" class="modal">
<div class="modal-content">
<span class="close" onclick="closeAbstract('abstract-2')">×</span>
<h3 class="anchored">
Abstract
</h3>
<p>
<strong>Importance:</strong> Male gender expressivity (MGE), reflecting sociocultural masculinity norms, may influence cardiovascular disease (CVD) risks.
</p>
<p>
<strong>Objective:</strong> To examine associations between adolescent and young adult MGE and CVD risk diagnoses and treatment in men.
</p>
<p>
<strong>Design:</strong> A cohort study of 4,230 U.S. males (aged 12-18 years in adolescence, followed into adulthood) from the National Longitudinal Study of Adolescent to Adult Health (Add Health).
</p>
<p>
<strong>Results:</strong> Higher MGE in adolescence and young adulthood was linked to lower rates of hypertension, diabetes, and hyperlipidemia diagnoses, as well as less hypertension and diabetes treatment in adulthood.
</p>
<p>
<strong>Conclusions:</strong> Elevated MGE in youth may reduce adult CVD risk and treatment, highlighting the need for tailored public health strategies to address distinctive risks in males with high MGE.
</p>
</div>
</div>
<div class="publication-card">
<img src="images/network.png">
<div class="publication-card-content">
<h3 class="anchored">
Associations of Adolescent School Social Networks, Gender Norms, and Adolescent-to-Young Adult Changes in Male Gender Expression With Young Adult Substance Use
</h3>
<p>
<strong>Authors:</strong> Glasser NJ, <mark>Jameson JC</mark>, Tung EL, Lindau ST, Pollack HA
</p>
<p>
<strong>Journal:</strong> Journal of Adolescent Health, 2024, 74(4):755-763
</p>
<p>
<strong>DOI:</strong> <a href="https://doi.org/10.1016/j.jadohealth.2023.11.018" target="_blank">10.1016/j.jadohealth.2023.11.018</a>
</p>
<div class="card-buttons">
<p><a href="https://doi.org/10.1016/j.jadohealth.2023.11.018" class="view-article" target="_blank">View Article</a> <a href="https://github.com/jacobjameson/MGE-and-Substance-Use" class="view-data" target="_blank">View Statistical Code</a> <button class="more-info" onclick="showAbstract('abstract-3')">More Info</button></p>
</div>
</div>
</div>
<!-- Abstract Modal 3 -->
<div id="abstract-3" class="modal">
<div class="modal-content">
<span class="close" onclick="closeAbstract('abstract-3')">×</span>
<h3 class="anchored">
Abstract
</h3>
<p>
<strong>Purpose:</strong> Male gender expression (MGE), shaped by sociocultural pressures, has been associated with health. This study examines links between adolescent school social networks, gender norms, changes in MGE, and young adult substance use.
</p>
<p>
<strong>Methods:</strong> Using data from 4,776 males in a nationally representative longitudinal cohort, adolescent-to-young adult MGE changes were analyzed in relation to adolescent social networks, school norms, and young adult substance use behaviors (e.g., cigarette, marijuana, heavy alcohol, and recreational drug use).
</p>
<p>
<strong>Results:</strong> MGE changes were associated with school gender norms, with greater shifts toward school averages (β = -0.83, p &lt; .01) observed among adolescents whose MGE initially diverged from school norms. Increases in MGE were linked to higher odds of substance use, except prescription drug misuse.
</p>
<p>
<strong>Discussion:</strong> Adolescent gender norms influence MGE shifts, which may predict substance use in young adulthood. School-based gender norms offer a potential target for interventions to reduce substance misuse.
</p>
</div>
</div>
<div class="publication-card">
<img src="images/meltzer 2023.png" alt="Doctor-Patient Relationship Icon">
<div class="publication-card-content">
<h3 class="anchored">
Does the Doctor-Patient Relationship Affect Enrollment in Clinical Research?
</h3>
<p>
<strong>Authors:</strong> Soo J, <mark>Jameson J</mark>, Flores A, Dubin L, Perish E, Afzal A, Berry G, DiMaggio V, Krishnamoorthi VR, Porter J, Tang J, Meltzer D
</p>
<p>
<strong>Journal:</strong> Academic Medicine, 2023, 98(6S):S17-S24
</p>
<p>
<strong>DOI:</strong> <a href="https://doi.org/10.1097/ACM.0000000000005195" target="_blank">10.1097/ACM.0000000000005195</a>
</p>
<div class="card-buttons">
<p><a href="https://doi.org/10.1097/ACM.0000000000005195" class="view-article" target="_blank">View Article</a> <button class="more-info" onclick="showAbstract('abstract-5')">More Info</button></p>
</div>
</div>
</div>
<!-- Abstract Modal 5 -->
<div id="abstract-5" class="modal">
<div class="modal-content">
<span class="close" onclick="closeAbstract('abstract-5')">×</span>
<h3 class="anchored">
Abstract
</h3>
<p>
<strong>Purpose:</strong> Recruiting patients for clinical research is challenging, especially for underrepresented populations, and may be influenced by patients’ relationships with their physicians, care experiences, and engagement with care. This study examines predictors of research enrollment in care models promoting continuity in the doctor-patient relationship.
</p>
<p>
<strong>Method:</strong> Conducted within 2 care model studies at the University of Chicago from 2020-2022, this study assessed predictors of enrollment in a vitamin D research study. Predictors included patient-reported care experiences, clinic engagement, and parent study follow-up survey completion, analyzed using univariate tests and multivariable logistic regression.
</p>
<p>
<strong>Results:</strong> Of 773 eligible participants, 63% of intervention arm participants enrolled in the vitamin D study versus 17% of control arm participants. Enrollment was not associated with reported quality of communication or trust in the doctor but was linked to timely care, more completed clinic visits, and higher parent study follow-up survey completion.
</p>
<p>
<strong>Conclusions:</strong> Study enrollment may be influenced more by continuity of care, timely access, and patient engagement than by the quality of the doctor-patient relationship. These findings can inform strategies for improving research recruitment.
</p>
</div>
</div>
</div>
<script>
function showAbstract(modalId) {
const modal = document.getElementById(modalId);
modal.style.display = 'flex';
}

function closeAbstract(modalId) {
const modal = document.getElementById(modalId);
modal.style.display = 'none';
}

</script>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Copyright 2024, Jacob Jameson</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>