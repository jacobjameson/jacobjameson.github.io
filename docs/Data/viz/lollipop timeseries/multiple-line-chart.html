<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jacob Jameson">
<meta name="description" content="The chart below does just that, comparing Brady with more than 300 other N.F.L. quarterbacks in playoff victories. Players who were still active during the 2021 season are highlighted.">

<title>Jacob Jameson - Multiple Line Chart</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
<meta name="twitter:title" content="Jacob Jameson - Multiple Line Chart">
<meta name="twitter:description" content="The chart below does just that, comparing Brady with more than 300 other N.F.L. quarterbacks in playoff victories. Players who were still active during the 2021 season are highlighted.">
<meta name="twitter:image" content="https://www.jacobjameson.github.io/docs/images/profile.png">
<meta name="twitter:creator" content="@JacobCJameson">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image-height" content="612">
<meta name="twitter:image-width" content="612">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Jacob Jameson</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../code.html">Coding</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../teaching.html">Teaching</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../dataviz.html">Data Visualization</a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../blog.html">Blog</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jacobjameson/jacobjameson.github.io"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/JacobCJameson/"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Multiple Line Chart</h1>
  <div class="quarto-categories">
    <div class="quarto-category">multiple line</div>
    <div class="quarto-category">D3</div>
    <div class="quarto-category">time series</div>
  </div>
  </div>

<div>
  <div class="description">
    <p>The chart below does just that, comparing Brady with more than 300 other N.F.L. quarterbacks in playoff victories. Players who were still active during the 2021 season are highlighted.</p>
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jacob Jameson </p>
          </div>
  </div>
    
    
  </div>
  

</header>


<meta charset="utf-8">
<!-- set styles on the top -->
<style>
.chart-container {
max-width: 1050px;
/* border: 2px solid red; */
margin: 0 auto;
/* auto centers the div */
font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
}

svg {
/* border: 2px solid purple; */
overflow: visible;
}

h1 {
margin-top: 40px;
margin-bottom: 0;
font-family: "Helvetica Neue";
font-size: 30px;
font-weight: 400;
}

h2 {
margin-top: 20px;
margin-bottom: 0;
font-family: "Helvetica Neue";
font-size: 20px;
font-weight: 400;
}

.x .tick line {
stroke: black;
}

.y .tick line {
stroke: #f0f0f0;
}

.x .domain {
display: none;
}

.y .domain {
display: none;
}

.y .tick text {
font-size: 11px;
font-family: sans-serif;
fill: #333;

}

.x .tick text {
font-size: 12px;
font-family: sans-serif;
fill: #333;
}

.change-btn{
margin: 10px 0px 60px 0px;
width: 200px;
height: 30px;
cursor: pointer;
font-size: 13px;
}

.subheader{
font-family: "Helvetica Neue";
font-size: 20px;
font-weight: 400;
}

.subheadline{
max-width:700px;
margin: 10px 0px;
font-family: 'Helvetica Neue';
font-size: 14px;
color: black;
line-height: 1.5;   
}

.flex {
display: flex;
justify-content: space-between;
align-items: baseline;
margin-bottom: -25px;
}

</style>


<div class="chart-container">
<header class="flex">
</header>
<h1 class="headline">
Tom Brady’s Greatness
</h1>
<p class="subheadline">
Tom Brady has retired from football after a 22-year career of consistent success and unmatched achievement. But his stature as the N.F.L.’s greatest quarterback may be best understood by seeing his achievements stacked up against those of hundreds of others who played the same position.
</p>
<h2 class="anchored">
Playoff Wins
</h2>
<button class="change-btn">
By Age
</button>
<header class="flex">
<svg width="800px" height="500px">
</svg>
</header>
</div>

<script src="https://d3js.org/d3.v6.min.js"></script>
<!-- we're using d3 version 6 (the latest version) for all out work -->
<script>

let margin = { top: 0, right: 0, bottom: 50, left: 30 };
let width = 700;
let height = 500;

let sel_var_state = "year";
let sel_max = "year_end";

d3.csv("football-data.csv").then(function (data){
data.forEach(function (row) {
row.age = +row.age
row.tot_wins = +row.tot_wins
row.playoff_wins = +row.playoff_wins
row.year = +row.year
row.year_end = +row.year_end 
})

let svg = d3.select("body")
.select("svg")

let x = d3.scaleLinear()
.domain(d3.extent(data.map(function(d) { return d[sel_var_state]} )))
.range([margin.left, width-margin.right])

let y = d3.scaleLinear()
.domain(d3.extent(data.map(function(d) { return d.playoff_wins} )))
.range([height-margin.bottom, margin.top])

let xAxisSettings = d3.axisBottom(x)
.tickValues([1950, 1960, 1970, 1980, 1990, 2000, 2010, 2020])
.tickSize(8)
.tickFormat(d3.format("d"))
.tickPadding(10)

let yAxisSettings = d3.axisRight(y)
.tickValues([5, 10, 15, 20, 25, 30, 35])
.tickSize(width-margin.right)
.tickPadding(10)

let yAxisTicks = svg.append("g")
.attr("class", "y axis")
.call(yAxisSettings)

let xAxisTicks = svg.append("g")
.attr("class", "x axis")
.call(xAxisSettings)
.attr("transform", `translate(0, ${height - margin.bottom})`)

let line = d3.line()
.defined(d => !isNaN(d.playoff_wins))
.x(function (d) { return x(d[sel_var_state]) })
.y(function (d) { return y(d.playoff_wins) })

let grouped_data = d3.group(data, d => d.player_id)
let highlighted_players = ["StarBa00", "BradTe00", "TarkFr00", "MontJo01", "ElwaJo00"]

let points = svg.append("g")
.selectAll("circles")
.data(grouped_data)
.enter()
.append("circle")
.attr("fill", d => {
if (d[1].slice(-1)[0]["year_end"] >= 2021) { 
return "#54b3e5" }
else if (highlighted_players.indexOf(d[0]) >= 0){ 
return "#555555" }
else {
return "#d0d0d0"}
})


.attr("id", (d, i)=> "circles" + i)
.attr("stroke", "none")
.attr("cx", function(d) { return x(d[1].slice(-1)[0]["year_end"]) })
.attr("cy", function(d) { return y(d[1].slice(-1)[0]["tot_wins"]) })
.attr("r", d => {
if(d[0] == "BradTo00") {
return 4.5
}
else {
return 1.5
}
})

points.filter(function(d) {return highlighted_players.indexOf(d[0]) >= 0}).raise();
points.filter(function(d) {return d[1].slice(-1)[0]["year_end"] >= 2021}).raise();

let line_path = svg.append("g")
.selectAll(".line")
.data(grouped_data)
.join("path")
.attr("class", function(d) { return "line " +  d[0] })
.attr("d", function(d) { return line(d[1]) })
.style("fill", "none")
.style("stroke", d => {
if ( d[1].slice(-1)[0]["year"] >= 2021) { 
return "#54b3e5" }
else if ( highlighted_players.indexOf(d[0]) >= 0){ 
return "#555555" }
else { 
return "#d0d0d0"}} )
.style("stroke-width", d => {
if(d[0] == "BradTo00") { 
return "3px"
} 
else { 
return "1px"
}
}).on("mouseover", function(event, d) { 
if(d[1].slice(-1)[0]["year_end"] < 2021 && highlighted_players.indexOf(d[0]) == -1){
d3.select(this).style("stroke", "black").raise()}})
.on("mouseout", function(event, d) {  
if(d[1].slice(-1)[0]["year_end"] < 2021 && highlighted_players.indexOf(d[0]) == -1){
d3.select(this).style("stroke", "#d0d0d0").lower()}})

line_path.filter(function(d) {return highlighted_players.indexOf(d[0]) >= 0}).raise();
line_path.filter(function(d) {return d[1].slice(-1)[0]["year_end"] >= 2021}).raise();

let labels = svg.append("g")
.selectAll("labels")
.data(grouped_data)
.enter()
.filter(function(d) { 
return highlighted_players.indexOf(d[0]) >= 0 || d[0] == "BradTo00" })
.append("text")
.attr("x", d => {
if( d[0] == "BradTo00") { 
return x(d[1].slice(-1)[0]["year_end"]) - 50 }
else { 
return x(d[1].slice(-1)[0]["year_end"]) + 4 }})
.attr("y", d => {
if (d[0] == "BradTo00") { 
return y(d[1].slice(-1)[0]["tot_wins"]) - 15 }
else { 
return y(d[1].slice(-1)[0]["tot_wins"]) + 3 }})
.text(function(d) {
return d[1].slice(-1)[0]["last name"]})
.style("font-size", d => {
if (d[0] == "BradTo00") { 
return 20 }
else { 
return 10 }})
.style("font-family", "Arial")
.style("stroke", "white")
.style("stroke-width", 0.3)
.style("fill", "black")
.attr("letter-spacing", 0.4)

let hidden_labels = svg.append("g")
.selectAll("hidden_labels")
.data(grouped_data)
.enter()
.append("text")
.attr("x", d => {
if( d[0] == "BradTo00") { 
return x(d[1].slice(-1)[0]["year_end"]) + 10 }
else { 
return x(d[1].slice(-1)[0]["year_end"]) + 4 }})
.attr("y", d => {
if (d[0] == "BradTo00") { 
return y(d[1].slice(-1)[0]["tot_wins"]) + 4 }
else { 
return y(d[1].slice(-1)[0]["tot_wins"]) + 3 }})
.text(function(d) {
return d[1].slice(-1)[0]["full name"] + " (" + d[1].slice(-1)[0]["age"] + ")"})
.style("font-size", d => {
if (d[0] == "BradTo00") { 
return 20 }
else { 
return 10 }})
.style("font-family", "Arial")
.style("stroke", "white")
.style("stroke-width", 0.3)
.style("fill", "black")
.attr("letter-spacing", 0.4)
.style("visibility", "hidden")

let baseline = svg.append("line")
.attr("x1", margin.left)
.attr("x2", width)
.attr("y1", y(0))
.attr("y2", y(0))
.style("stroke", "black")
.style("stroke-width", "1.5px")

let button = d3.select(".change-btn").on("click", update);

function update(){

if (sel_var_state == "year") {
sel_var_state = "age";
sel_var_max = "end_age"
button.html("By Year");

xAxisSettings.tickValues([25, 30, 35, 40])
}

else {
sel_var_state = "year";
sel_var_max = "year_end";
button.html("By Age");

xAxisSettings.tickValues([1950, 1960, 1970, 1980, 1990, 2000, 2010, 2020])
}

var t = d3.transition()
.duration(600)

x.domain(d3.extent(data.map(function(d) { return d[sel_var_state]} )))
xAxisTicks.call(xAxisSettings)

line.x(function (d) { return x(d[sel_var_state]) })

line_path
.transition(t)
.attr("d", function(d) { return line(d[1]) })

line_path.filter(function(d) {return highlighted_players.indexOf(d[0]) >= 0}).raise();
line_path.filter(function(d) {return d[1].slice(-1)[0]["year_end"] >= 2021}).raise();

points
.transition(t)
.attr("cx", function(d) { return x(d[1].slice(-1)[0][sel_var_max]) })

points.filter(function(d) {return highlighted_players.indexOf(d[0]) >= 0}).raise();
points.filter(function(d) {return d[1].slice(-1)[0]["year_end"] >= 2021}).raise();

labels
.transition(t)
.attr("x", d => {
if( d[0] == "BradTo00") { 
return x(d[1].slice(-1)[0][sel_var_max]) - 50 }
else { 
return x(d[1].slice(-1)[0][sel_var_max]) + 4 }
})
}
})



</script>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="jacobjameson/jacobjameson.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Copyright 2022, Jacob Jameson</div>   
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jacobjameson/jacobjameson.github.io">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/JacobCJameson">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>