"0","#| code-fold: true"
"0","#| code-summary: ""Show the code"""
"0",""
"0","# Setting the seed for reproducibility"
"0","set.seed(1234)"
"0",""
"0","n <- 1000"
"0",""
"0","# Age distribution: Normally distributed between 40 and 70"
"0","age <- rnorm(n, 55, 7.5)"
"0",""
"0","# Drug use: 50% of the participants use the drug"
"0","drug_use <- rbinom(n, 1, 0.5)"
"0",""
"0","# Log odds of heart attack: Base risk, then increasing slightly with age, "
"0","# and decreasing with drug use (this is where we're setting the odds ratio to roughly 2 for drug use)"
"0","log_odds_heart_attack <- -2 + 0.04 * age - log(2) * drug_use"
"0",""
"0","# Converting log odds to probability"
"0","prob_heart_attack <- exp(log_odds_heart_attack) / (1 + exp(log_odds_heart_attack))"
"0",""
"0","# Simulating whether a heart attack occurs or not"
"0","heart_attack <- rbinom(n, 1, prob_heart_attack)"
"0",""
"0","# Create a dataframe"
"0","data_high_risk <- data.frame(age, drug_use, heart_attack)"
