{
  "hash": "22a212a266ddd13059099b7cefce9167",
  "result": {
    "markdown": "---\ntitle: \"Odds Ratio Schmodds Ratio: Report the Relative Risk\"\ndescription: |\n  A short tutorial on how to report relative risk in R.\nauthor: \"Jacob Jameson\"\ndate: \"2022-12-24\"\ncategories: [relative risk, odds ratios]\noutput:\n  tufte::tufte_html: default\n  tufte::tufte_handout:\n    citation_package: natbib\n    latex_engine: xelatex\n  tufte::tufte_book:\n    citation_package: natbib\n    latex_engine: xelatex\nlink-citations: yes\nreference-location: margin\ncomments:\n  utterances:\n    repo: jacobjameson/jacobjameson.github.io\nformat:\n  html:\n    theme: slate\n---\n\n\n\n\n\n\nLogistic regression is a commonly used statistical technique in the social sciences, and odds ratios (ORs) are often used to report the results of these analyses. However, correctly interpreting ORs can be challenging, and it's common for them to be misunderstood or misinterpreted. This post aims to help you understand the correct interpretation of ORs and how to transform them into the more intuitive and easily understood relative risk (RRs) estimate.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(RNHANES)\nlibrary(pROC)\nlibrary(sjPlot)\nlibrary(sjmisc)\nlibrary(sjlabelled)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nd07 = nhanes_load_data(\"DEMO_E\", \"2007-2008\") %>%\n  select(SEQN, cycle, RIAGENDR, RIDAGEYR) %>%\n  transmute(SEQN=SEQN, wave=cycle, RIAGENDR, RIDAGEYR) %>% \n  left_join(nhanes_load_data(\"VID_E\", \"2007-2008\"), by=\"SEQN\") %>%\n  select(SEQN, wave, RIAGENDR, RIDAGEYR, LBXVIDMS) %>% \n  transmute(SEQN, wave, RIAGENDR, RIDAGEYR, vitD=LBXVIDMS) %>% \n  left_join(nhanes_load_data(\"BIOPRO_E\", \"2007-2008\"), by=\"SEQN\") %>%\n  select(SEQN, wave, RIAGENDR, RIDAGEYR, vitD, LBXSCA) %>% \n  transmute(SEQN, wave, RIAGENDR, RIDAGEYR, vitD, Calcium = LBXSCA) %>% \n  left_join(nhanes_load_data(\"OSQ_E\", \"2007-2008\"), by=\"SEQN\") %>%\n  select(SEQN, wave, RIAGENDR, RIDAGEYR, vitD, Calcium, OSQ060) %>% \n  transmute(SEQN, wave, RIAGENDR, RIDAGEYR, vitD, Calcium, Osteop = OSQ060)\n\nd09 = nhanes_load_data(\"DEMO_F\", \"2009-2010\") %>%\n  select(SEQN, cycle, RIAGENDR, RIDAGEYR) %>%\n  transmute(SEQN=SEQN, wave=cycle, RIAGENDR, RIDAGEYR) %>% \n  left_join(nhanes_load_data(\"VID_F\", \"2009-2010\"), by=\"SEQN\") %>%\n  select(SEQN, wave, RIAGENDR, RIDAGEYR, LBXVIDMS) %>% \n  transmute(SEQN, wave, RIAGENDR, RIDAGEYR, vitD=LBXVIDMS) %>% \n  left_join(nhanes_load_data(\"BIOPRO_F\", \"2009-2010\"), by=\"SEQN\") %>%\n  select(SEQN, wave, RIAGENDR, RIDAGEYR, vitD,  LBXSCA) %>% \n  transmute(SEQN, wave, RIAGENDR, RIDAGEYR, vitD, Calcium = LBXSCA) %>% \n  left_join(nhanes_load_data(\"OSQ_F\", \"2009-2010\"), by=\"SEQN\") %>%\n  select(SEQN, wave, RIAGENDR, RIDAGEYR, vitD, Calcium, OSQ060) %>% \n  transmute(SEQN, wave, RIAGENDR, RIDAGEYR, vitD, Calcium, Osteop = OSQ060)\n\ndat = bind_rows(d07, d09) %>% as.data.frame()\n```\n:::\n\n\n\nInstitute of Medicine cutoffs for Vitamin D\n\nVitamin D deficiency: Serum 25OHD less than 30 nmol/L (12 ng/mL)\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- dat %>% \n  mutate(vitD_deficient = ifelse(vitD < 30, 1, 0))\n\n#exclude missing observations\ndat <- dat %>% \n  filter(!is.na(vitD_deficient), !is.na(Calcium), !is.na(Osteop), Osteop!=9) %>% \n  mutate(Gender = recode_factor(RIAGENDR, \n                           `1` = \"Man\", \n                           `2` = \"Woman\"),\n         Osteop = recode_factor(Osteop, \n                           `1` = 1, \n                           `2` = 0))\n\nhead(dat)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   SEQN      wave RIAGENDR RIDAGEYR vitD Calcium Osteop vitD_deficient Gender\n1 41475 2007-2008        2       62 58.8     9.5      0              0  Woman\n2 41477 2007-2008        1       71 81.8    10.0      0              0    Man\n3 41479 2007-2008        1       52 78.4     9.0      0              0    Man\n4 41482 2007-2008        1       64 61.9     9.1      0              0    Man\n5 41483 2007-2008        1       66 53.3     8.9      0              0    Man\n6 41485 2007-2008        2       30 39.1     9.3      0              0  Woman\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfit <- glm(Osteop ~ vitD_deficient + Calcium + Gender + RIDAGEYR, \n           data = dat, family = \"binomial\"(link = \"logit\"))\n\ntab_model(fit)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"border-collapse:collapse; border:none;\">\n<tr>\n<th style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm;  text-align:left; \">&nbsp;</th>\n<th colspan=\"3\" style=\"border-top: double; text-align:center; font-style:normal; font-weight:bold; padding:0.2cm; \">Osteop</th>\n</tr>\n<tr>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  text-align:left; \">Predictors</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">Odds Ratios</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">CI</td>\n<td style=\" text-align:center; border-bottom:1px solid; font-style:italic; font-weight:normal;  \">p</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">(Intercept)</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1879.73</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">239.24&nbsp;&ndash;&nbsp;14670.09</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">vitD deficient</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.58</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.13&nbsp;&ndash;&nbsp;2.28</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>0.011</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">Calcium</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">1.09</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.88&nbsp;&ndash;&nbsp;1.35</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.443</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">Gender [Woman]</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.13</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.10&nbsp;&ndash;&nbsp;0.16</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; \">RIDAGEYR</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.93</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \">0.92&nbsp;&ndash;&nbsp;0.94</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:center;  \"><strong>&lt;0.001</strong></td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm; border-top:1px solid;\">Observations</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;\" colspan=\"3\">10244</td>\n</tr>\n<tr>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;\">R<sup>2</sup> Tjur</td>\n<td style=\" padding:0.2cm; text-align:left; vertical-align:top; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left;\" colspan=\"3\">0.136</td>\n</tr>\n\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_model(fit, vline.color = \"red\") + theme_bw() \n```\n\n::: {.cell-output-display}\n![](2022-12-24-ORs_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "2022-12-24-ORs_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}